<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="anim.css" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="container">
        <div class="test_container">
            <div id="test_box">
                <p>For the Win!</p>
            </div>
        </div>

        <a class="button" data-test=''>cancel</a>
        <a class="button" data-test='test'>test</a>

        <br /><br /><br /><br />
        
        <h3>Attention!</h3>
        <a class="button" data-test='vertShake'>vertShake</a>
        <a class="button" data-test='horShake'>horShake</a>
        <a class="button" data-test='horLeftShake'>horLeftShake</a>
        <a class="button" data-test='shake'>shake (infinite)</a>
        <a class="button" data-test='deform'>deform (infinite)</a>
        <a class="button" data-test='weirdRotation'>weirdRotation</a>
        <a class="button" data-test='rotateToBigger'>rotateToBigger</a>
        <a class="button" data-test='weirderRotation'>weirderRotation</a>
        <a class="button" data-test='rotateCrooked'>rotateCrooked</a>
        <a class="button" data-test='rotateAllAxisCrooked'>rotateAllAxisCrooked</a>
        <a class="button" data-test='pulse'>pulse (infinite)</a>
        <a class="button" data-test='blink'>blink (infinite)</a>

        <h3>Entrances</h3>
        <a class="button" data-test='rotateInSlow'>rotateInSlow</a>
        <a class="button" data-test='rotateInFast'>rotateInFast</a>
        <a class="button" data-test='rotateInBottomRight'>rotateInBottomRight</a>
        <a class="button" data-test='rotateInBottomRightFast'>rotateInBottomRightFast</a>
        <a class="button" data-test='rotateInX'>rotateInX</a>
        <a class="button" data-test='inFromRight'>inFromRight</a>
        <a class="button" data-test='fromDeep'>fromDeep</a>
        <a class="button" data-test='fromDeepBounce'>fromDeepBounce</a>
        <a class="button" data-test='rollingInUp'>rollingInUp</a>
        <a class="button" data-test='rollingInDown'>rollingInDown</a>
        <a class="button" data-test='landing'>landing</a>
        <a class="button" data-test='reboudLanding'>reboudLanding</a>
        <a class="button" data-test='softLanding'>softLanding</a>
        <a class="button" data-test='softLandingBounce'>softLandingBounce</a>
        <a class="button" data-test='diagonalEntry'>diagonalEntry</a>

        <h3>Exits</h3>
        <a class="button" data-test='fadeOutDownBouncing'>fadeOutDownBouncing</a>
        <a class="button" data-test='fadeOutDownBigBouncing'>fadeOutDownBigBouncing</a>
        <a class="button" data-test='rotateOutTopLeft'>rotateOutTopLeft</a>
        <a class="button" data-test='rotateOutRight'>rotateOutRight</a>
        <a class="button" data-test='rotateOutRightSmaller'>rotateOutRightSmaller</a>
        <a class="button" data-test='swirlDownRight'>swirlDownRight</a>
        <a class="button" data-test='fastSwirl'>fastSwirl</a>
        <a class="button" data-test='rollingDownOut'>rollingDownOut</a>
        <a class="button" data-test='rollingDownOutBig'>rollingDownOutBig</a>
        <a class="button" data-test='rollingDownOutBigger'>rollingDownOutBigger</a>
        <a class="button" data-test='rollingDownOutRebound'>rollingDownOutRebound</a>
        <a class="button" data-test='fusionX'>fusionX</a>
        <a class="button" data-test='fusionY'>fusionY</a>
        <a class="button" data-test='downThenExitRight'>downThenExitRight</a>
        <a class="button" data-test='bounceAndExitRight'>bounceAndExitRight</a>
        <a class="button" data-test='bounceHarderAndExitRight'>bounceHarderAndExitRight</a>
        <a class="button" data-test='fadeToDepth'>fadeToDepth</a>
        <a class="button" data-test='fadeToDepthBounce'>fadeToDepthBounce</a>
        <a class="button" data-test='myPlanetNeedsMe'>myPlanetNeedsMe</a>

        <h3>Miscellaneous</h3>
        <a class="button" data-test='rotateDownLeft'>rotateDownLeft</a>
        <a class="button" data-test='galaxyFarFarAway'>galaxyFarFarAway</a>
        
        <h3>Chained</h3>
        <a class="button" data-test='rotateThenBlink infinite'>rotateThenBlink</a>
        <a class="button" data-test='rotateAndShake infinite'>rotateAndShake</a>

    </div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script>
    $(document).ready(function(){
        var anim = $('#test_box'),
            animTimeout;

        anim.on('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
            var timer = 0.5 * 1000; //0.5 seconds
            if(anim.hasClass("infinite")) {
                timer = 10 * 1000; //10 seconds
            }

            if(animTimeout) {
                clearTimeout(animTimeout);
            }

            animTimeout = setTimeout(function() {
                anim.removeClass();
            }, timer);
        });

        function testAnim(x) {
            if(animTimeout) {
                clearTimeout(animTimeout);
            }

            anim.removeClass().addClass(x);
        };

        $('a[data-test]').click(function(){
            var anim = $(this).attr('data-test');
            testAnim(anim);
        });
    });
</script>

</body>

</html>